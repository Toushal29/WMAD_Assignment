{% load static %}
<link rel="stylesheet" href="{% static 'web_app/css/navbar.css' %}">

<header>
    <nav class="navbar">
        <div class="logo">
            <a href="/">Saveur Moris</a>
        </div>

        <div class="mainNav">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/menu/">Menu</a></li>
                <li><a href="/order/">Order</a></li>
                <li><a href="/reservation/">Reservation</a></li>
                <li><a href="/about-contact/">About & Contact</a></li>
            </ul>
        </div>

        <div class="login-container">

            <!-- PERMANENT CART ICON -->
            <div class="cart-wrapper">
                <button id="cart-toggle" class="cart-nav-btn">ðŸ›’</button>
                <span id="cart-count" class="cart-count">0</span>
            </div>

            {% if user.is_authenticated %}
                <div class="user-dropdown">
                    <span class="username">ðŸ‘¤ Hi, {{ user.username }}</span>
                    <div class="dropdown-content">
                        <a href="/profile/">Profile</a>
                        <a href="/account/logout/">Logout</a>
                    </div>
                </div>

                {% if "admin_" in user.username %}
                    <a href="/admin-site/" class="admin-back-btn">Admin Panel</a>
                {% endif %}
            {% else %}
                <a href="/login/" class="login-link">Log In</a>
            {% endif %}

            <button class="hamburger" id="navToggle">â˜°</button>
        </div>
    </nav>

    <!-- UNIVERSAL CART DROPDOWN -->
    <div id="cart-dropdown" class="cart-dropdown">
        <div class="cart-header">
            <h3>My Cart</h3>
            <button id="close-cart" class="close-btn">Ã—</button>
        </div>

        <table id="cart-items">
            <tbody></tbody>
        </table>

        <p id="cart-total"></p>

        <button id="refresh-cart" class="clear-cart-btn">Clear Cart</button>
        <button id="checkout-btn" class="checkout-btn">Checkout</button>
    </div>
</header>
