{% extends 'web_app/main_page/base.html' %}                   <!--gets the base-->
{% block title %}Reservation{% endblock %}   <!--overwrite the title-->
{% block extra_css %}
{% load static %}
    <style>
        * {
            text-decoration: none;
            margin: 0px;
            padding: 0px;
        }
        body{
            background-image: url("{% static 'web_app/images/bk_img5.png' %}");
            background-repeat: no-repeat;
            background-size: cover;
            background-position:center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
        }
        h1 {
            color: white;
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
        }
    </style>
{% endblock %}

<!-- Nilesh added this code (1)-->

<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->

<!--this add the main contents to the web page.-->
{% block content %}
    <h1>Make A Reservation</h1>
    <p>Welcome, {{ request.user.first_name }} {{ request.user.last_name }}!</p>
    <p>Please fill in the required information below to book a table with us.</p>
    <br><br>

    
    <form action = "{% url 'reservation' %}" method = "post">   <!-- Here, I am using "post" instead of "get" because data is being created rather than being searched for-->
            {% csrf_token %}     <!-- this is a django security feature-->
            Name of Reservation:
            <!--This will dispay first name and last name but cannot change-->
            <input type="text" name="first_name" value="{{ request.user.first_name }}" readonly/>
            <input type="text" name="last_name" value="{{ request.user.last_name }}" readonly/>
            <br><br>

            Phone Number:
            <input type="text" name="phone_no" value="{{ request.user.phone_no }}" readonly/>
            <br><br>

            Party Size:
            <input type = "number" value = "" name = "party_size" title = "Enter the number of people in your party" min="1" max="15" required/>
            <br><br>

            Date:
            <input type = "date" value = "" name = "reservation_date" title = "Select a date to reserve a table" required/>
            <br><br>

            Time:
            <input type = "time" value = "" name = "reservation_time" title = "Select a time to reserve a table" required/>
            <br><br>

            Indoor/Outdoor Seating:
            <input type = "radio" name = "seating_choice" value = "Indoor" required/> Indoor
            <input type = "radio" name = "seating_choice" value = "Outdoor"> Outdoor
            <br><br>

            Allergy Information (if any):
            <textarea name = "allergy_info" rows = "4" cols = "50" title = "Enter any allergy information"></textarea>
            <br><br>

            <button type = "submit" value = "Confirm your reservation">CONFIRM YOUR RESERVATION</button>

    </form>
    <!--FIELD NAMES FOR DATABASE-->
    <!--first_name, last_name, phone_number, party_size, reservation_date, reservation_time, seating_choice, allergy_info-->

    <!--Implementing an alternative Whatsapp contact feature-->
    <br><br>
    <p>If you don't wish to make your reservation through our website, you can always contact us through WhatsApp by using the button below</p>
    <a href="https://wa.me/23059220512?text=Hello%20I%20want%20to%20make%20a%20reservation" target="_blank">
    <button type="button">Make reservation via WhatsApp</button>
</a>
{% endblock %}